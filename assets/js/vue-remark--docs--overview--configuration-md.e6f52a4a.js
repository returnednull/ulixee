(window.webpackJsonp=window.webpackJsonp||[]).push([[218],{UQSp:function(e,t,o){"use strict";t.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}},Ui1s:function(e,t,o){"use strict";o.r(t);var r=o("KHd+"),s=o("UQSp"),n=o("oCYn");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.a.config.optionMergeStrategies;var i={VueRemarkRoot:s.a},c=function(e){var t=e.options.components=e.options.components||{},o=e.options.computed=e.options.computed||{};Object.keys(i).forEach((function(e){"object"===a(i[e])&&"function"==typeof i[e].render||"function"==typeof i[e]&&"function"==typeof i[e].options.render?t[e]=i[e]:o[e]=function(){return i[e]}}))},p=n.a.config.optionMergeStrategies,v="__vueRemarkFrontMatter",l={excerpt:null,title:"Configuration"};var d=function(e){e.options[v]&&(e.options[v]=l),n.a.util.defineReactive(e.options,v,l),e.options.computed=p.computed({$frontmatter:function(){return e.options[v]}},e.options.computed)},u=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("VueRemarkRoot",[o("h1",{attrs:{id:"configuration"}},[o("a",{attrs:{href:"#configuration","aria-hidden":"true"}},[e._v("#")]),e._v("Configuration")]),o("p",[e._v("Configuration variables can be defined at a few levels:")]),o("ul",[o("li",[o("code",{pre:!0},[e._v("Hero")]),e._v(" At an instance level, configured via "),o("a",{attrs:{href:"/docs/basic-interfaces/hero#configure"}},[e._v("hero.configure()")]),e._v(" or "),o("a",{attrs:{href:"/docs/basic-interfaces/hero#constructor"}},[e._v("new Hero()")]),e._v(", or when creating "),o("a",{attrs:{href:"/docs/basic-interfaces/handler"}},[e._v("Handler")]),e._v(" heros using "),o("a",{attrs:{href:"/docs/basic-interfaces/handler#create-hero"}},[e._v("handler.createHero()")]),e._v(" or "),o("a",{attrs:{href:"/docs/basic-interfaces/handler#dispatch-hero"}},[e._v("handler.dispatchHero()")]),e._v(".")]),o("li",[o("code",{pre:!0},[e._v("Connection")]),e._v(" At a connection level, which can be configured when creating a new "),o("a",{attrs:{href:"/docs/advanced/connection-to-core#configuration"}},[e._v("ConnectionToCore")]),e._v(".")]),o("li",[o("code",{pre:!0},[e._v("Core")]),e._v(" At an internal level, using the "),o("code",{pre:!0},[e._v("@ulixee/hero-core")]),e._v(" module of Hero. This must be run in the environment where your Browser Engine(s) and "),o("code",{pre:!0},[e._v("@ulixee/hero-core")]),e._v(" module are running. If you're running remote, this will be your server.")])]),o("p",[e._v("The internal "),o("code",{pre:!0},[e._v("@ulixee/hero-core")]),e._v(" module can receive several configuration options on "),o("a",{attrs:{href:"#core-start"}},[e._v("start")]),e._v(", or when a "),o("a",{attrs:{href:"/docs/basic-interfaces/handler"}},[e._v("Handler")]),e._v(" or "),o("a",{attrs:{href:"/docs/basic-interfaces/hero"}},[e._v("Hero")]),e._v(" establishes a "),o("a",{attrs:{href:"/docs/advanced/connection-to-core"}},[e._v("connection")]),e._v(".")]),o("h3",{attrs:{id:"connection-to-core-div-classspecsiheroidiv"}},[o("a",{attrs:{href:"#connection-to-core-div-classspecsiheroidiv","aria-hidden":"true"}},[e._v("#")]),e._v("Connection To Core "),o("div",{staticClass:"specs"},[o("i",[e._v("Hero")])])]),o("p",[e._v("The "),o("a",{attrs:{href:"/docs/advanced/connection-to-core"}},[e._v("ConnectionToCore")]),e._v(" to be used by a "),o("a",{attrs:{href:"/docs/basic-interfaces/handler"}},[e._v("Handler")]),e._v(" or "),o("a",{attrs:{href:"/docs/basic-interfaces/hero"}},[e._v("Hero")]),e._v(".")]),o("p",[e._v("All "),o("a",{attrs:{href:"/docs/advanced/connection-to-core#configurations"}},[e._v("configurations")]),e._v(" accept both an "),o("code",{pre:!0},[e._v("options")]),e._v(" object and a "),o("a",{attrs:{href:"/docs/advanced/connection-to-core"}},[o("code",{pre:!0},[e._v("ConnectionToCore")])]),e._v(" instance.")]),o("p",[e._v("Configuration is accepted in the following methods and constructors:")]),o("ul",[o("li",[o("a",{attrs:{href:"/docs/basic-interfaces/hero#configure"}},[e._v("hero.configure()")]),e._v(" - apply the connection to the default hero, or to a an hero constructed prior to the first connection.")]),o("li",[o("a",{attrs:{href:"/docs/basic-interfaces/hero#constructor"}},[e._v("new Hero()")]),e._v(" - the new hero will use this connection.")]),o("li",[o("a",{attrs:{href:"/docs/basic-interfaces/handler#constructor"}},[e._v("new Handler(...connections)")]),e._v(" - a handler takes one or more coreClientConnection options or instances.")])]),o("h3",{attrs:{id:"max-concurrent-heros-count-div-classspecsicoreidiv"}},[o("a",{attrs:{href:"#max-concurrent-heros-count-div-classspecsicoreidiv","aria-hidden":"true"}},[e._v("#")]),e._v("Max Concurrent Heros Count "),o("div",{staticClass:"specs"},[o("i",[e._v("Core")])])]),o("p",[e._v("Limit concurrent Heros operating at any given time across all "),o("a",{attrs:{href:"/docs/advanced/connection-to-core"}},[e._v("connections")]),e._v(' to a "Core". Defaults to '),o("code",{pre:!0},[e._v("10")]),e._v(".")]),o("p",[e._v("Configurable via "),o("a",{attrs:{href:"#core-start"}},[o("code",{pre:!0},[e._v("Core.start()")])]),e._v(" or "),o("a",{attrs:{href:"/docs/advanced/connection-to-core#configuration"}},[o("code",{pre:!0},[e._v("ConnectionToCore")])]),e._v(".")]),o("h3",{attrs:{id:"local-proxy-port-start-div-classspecsiconnectioniicoreidiv"}},[o("a",{attrs:{href:"#local-proxy-port-start-div-classspecsiconnectioniicoreidiv","aria-hidden":"true"}},[e._v("#")]),e._v("Local Proxy Port Start "),o("div",{staticClass:"specs"},[o("i",[e._v("Connection")]),o("i",[e._v("Core")])])]),o("p",[e._v("Configures the port the Man-In-the-Middle server will listen on locally. This server will correct headers and TLS signatures sent by requests to properly emulate the desired browser engine. Default port is "),o("code",{pre:!0},[e._v("0")]),e._v(", which will find an open port locally.")]),o("p",[e._v("Configurable via "),o("a",{attrs:{href:"#core-start"}},[o("code",{pre:!0},[e._v("Core.start()")])]),e._v(" or the first "),o("a",{attrs:{href:"/docs/advanced/connection-to-core#configuration"}},[o("code",{pre:!0},[e._v("ConnectionToCore")])]),e._v(".")]),o("h3",{attrs:{id:"replay-session-port-div-classspecsiconnectioniicoreidiv"}},[o("a",{attrs:{href:"#replay-session-port-div-classspecsiconnectioniicoreidiv","aria-hidden":"true"}},[e._v("#")]),e._v("Replay Session Port "),o("div",{staticClass:"specs"},[o("i",[e._v("Connection")]),o("i",[e._v("Core")])])]),o("p",[e._v("Configures the port Replay uses to serve Session data.")]),o("p",[e._v("Configurable via "),o("a",{attrs:{href:"#core-start"}},[o("code",{pre:!0},[e._v("Core.start()")])]),e._v(" or the first "),o("a",{attrs:{href:"/docs/advanced/connection-to-core#configuration"}},[o("code",{pre:!0},[e._v("ConnectionToCore")])]),e._v(".")]),o("h3",{attrs:{id:"sessions-dir"}},[o("a",{attrs:{href:"#sessions-dir","aria-hidden":"true"}},[e._v("#")]),e._v("Sessions Dir "),o("div",{staticClass:"specs"},[o("i",[e._v("Connection")]),o("i",[e._v("Core")])])]),o("p",[e._v("Configures the storage location for files created by Core.")]),o("ul",[o("li",[e._v("Replay session files")]),o("li",[e._v("Man-in-the-middle network certificates")])]),o("p",[o("code",{pre:!0},[e._v("Environmental variable")]),e._v(": "),o("code",{pre:!0},[e._v("HERO_SESSIONS_DIR=/your-absolute-dir-path")])]),o("p",[e._v("Configurable via "),o("a",{attrs:{href:"#core-start"}},[o("code",{pre:!0},[e._v("Core.start()")])]),e._v(" or the first "),o("a",{attrs:{href:"/docs/advanced/connection-to-core"}},[o("code",{pre:!0},[e._v("ConnectionToCore")])]),e._v(".")]),o("h3",{attrs:{id:"blocked-resources"}},[o("a",{attrs:{href:"#blocked-resources","aria-hidden":"true"}},[e._v("#")]),e._v("Blocked Resource Types "),o("div",{staticClass:"specs"},[o("i",[e._v("Connection")]),o("i",[e._v("Hero")])])]),o("p",[e._v("One of the best ways to optimize Hero's memory and CPU is setting "),o("code",{pre:!0},[e._v("blockedResourceTypes")]),e._v(" to block resources you don't need. The following are valid options.")]),o("p",{staticClass:"show-table-header show-bottom-border minimal-row-height"}),o("table",[o("thead",[o("tr",[o("th",[e._v("Options")]),o("th",[e._v("Description")])])]),o("tbody",[o("tr",[o("td",[o("code",{pre:!0},[e._v("JsRuntime")])]),o("td",[e._v("Executes JS in webpage. Requires "),o("code",{pre:!0},[e._v("AwaitedDOM")]),e._v(".")])]),o("tr",[o("td",[o("code",{pre:!0},[e._v("BlockJsAssets")])]),o("td",[e._v("Loads all referenced script assets. Requires "),o("code",{pre:!0},[e._v("JsRuntime")]),e._v(".")])]),o("tr",[o("td",[o("code",{pre:!0},[e._v("BlockCssAssets")])]),o("td",[e._v("Loads all referenced CSS assets. Requires "),o("code",{pre:!0},[e._v("JsRuntime")]),e._v(".")])]),o("tr",[o("td",[o("code",{pre:!0},[e._v("BlockImages")])]),o("td",[e._v("Loads all referenced images on page. Requires "),o("code",{pre:!0},[e._v("JsRuntime")]),e._v(".")])]),o("tr",[o("td",[o("code",{pre:!0},[e._v("BlockAssets")])]),o("td",[e._v("Shortcut for "),o("code",{pre:!0},[e._v("LoadJsAssets")]),e._v(", "),o("code",{pre:!0},[e._v("LoadCssAssets")]),e._v(" and "),o("code",{pre:!0},[e._v("LoadImages")]),e._v(".")])]),o("tr",[o("td",[o("code",{pre:!0},[e._v("All")])]),o("td",[e._v("Blocks all of the resources above. Only retrieves window.response.")])]),o("tr",[o("td",[o("code",{pre:!0},[e._v("None")])]),o("td",[e._v("No assets are blocked. "),o("code",{pre:!0},[e._v("default")])])])])]),o("p",[e._v("As you'll notice above, some features are dependent on others and therefore automatically enable other features.")]),o("p",[e._v("Setting an empty array is the same as setting to "),o("code",{pre:!0},[e._v("None")]),e._v(".")]),o("h3",{attrs:{id:"user-profile-div-classspecsiconnectioniiheroidiv"}},[o("a",{attrs:{href:"#user-profile-div-classspecsiconnectioniiheroidiv","aria-hidden":"true"}},[e._v("#")]),e._v("User Profile "),o("div",{staticClass:"specs"},[o("i",[e._v("Connection")]),o("i",[e._v("Hero")])])]),o("p",[e._v("A user profile stores and restores Cookies, DOM Storage and IndexedDB records for an Hero. NOTE: the serialized user profile passed into an Hero instance is never modified. If you want to update a profile with changes, you should re-export and save it to the format you're persisting to.")]),o("pre",{pre:!0,attrs:{class:"language-js"}},[o("code",{pre:!0,attrs:{class:"language-js"}},[o("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" rawProfileJson "),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" fs"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),o("span",{pre:!0,attrs:{class:"token method function property-access"}},[e._v("readFileSync")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),o("span",{pre:!0,attrs:{class:"token string"}},[e._v("'profile.json'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v("'utf-8'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" profile "),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token known-class-name class-name"}},[e._v("JSON")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),o("span",{pre:!0,attrs:{class:"token method function property-access"}},[e._v("parse")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("rawProfileJson"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// { cookies: { sessionId: 'test' }}")]),e._v("\n\nhero"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),o("span",{pre:!0,attrs:{class:"token method function property-access"}},[e._v("configure")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" userProfile"),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" profile "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" latestUserProfile "),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[e._v("await")]),e._v(" hero"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),o("span",{pre:!0,attrs:{class:"token method function property-access"}},[e._v("exportUserProfile")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// { cookies, localStorage, sessionStorage, indexedDBs }")]),e._v("\n\n"),o("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[e._v("await")]),e._v(" hero"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),o("span",{pre:!0,attrs:{class:"token method function property-access"}},[e._v("goto")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),o("span",{pre:!0,attrs:{class:"token string"}},[e._v("'http://example.com'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),o("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" latestUserProfile "),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token keyword control-flow"}},[e._v("await")]),e._v(" hero"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),o("span",{pre:!0,attrs:{class:"token method function property-access"}},[e._v("exportUserProfile")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\nfs"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),o("span",{pre:!0,attrs:{class:"token method function property-access"}},[e._v("writeFileSync")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),o("span",{pre:!0,attrs:{class:"token string"}},[e._v("'profile.json'")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token known-class-name class-name"}},[e._v("JSON")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),o("span",{pre:!0,attrs:{class:"token method function property-access"}},[e._v("stringify")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("latestUserProfile"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token keyword null nil"}},[e._v("null")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")])])]),o("h3",{attrs:{id:"upstream-proxy-div-classspecsiheroidiv"}},[o("a",{attrs:{href:"#upstream-proxy-div-classspecsiheroidiv","aria-hidden":"true"}},[e._v("#")]),e._v("Upstream Proxy "),o("div",{staticClass:"specs"},[o("i",[e._v("Hero")])])]),o("p",[e._v("Configures a proxy url to route traffic through for a given Hero. This function supports two types of proxies:")]),o("ul",[o("li",[o("code",{pre:!0},[e._v("Socks5")]),e._v(" - many VPN providers allow you to use a socks5 configuration to send traffic through one of their VPNs behind the scenes. You can pass any required username and password through the "),o("code",{pre:!0},[e._v("UserInfo")]),e._v(" portion of the url, e.g., "),o("code",{pre:!0},[e._v("socks5://username:password@sockshost.com:1080")]),e._v(".")]),o("li",[o("code",{pre:!0},[e._v("Http")]),e._v(" - an http proxy will create secure TLS socket to an upstream server using the HTTP connect verb. Services like "),o("a",{attrs:{href:"https://luminati.io",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("luminati")]),e._v(' provide highly configurable Http proxies that can route traffic from various geographic locations and "grade" of IP - ie, consumer IP vs datacenter.')])]),o("p",[e._v("An upstream proxy url should be a fully formatted url to the proxy. If your proxy is socks5, start it with "),o("code",{pre:!0},[e._v("socks5://")]),e._v(", http "),o("code",{pre:!0},[e._v("http://")]),e._v(" or "),o("code",{pre:!0},[e._v("https://")]),e._v(" as needed. An upstream proxy url can optionally include the user authentication parameters in the url. It will be parsed out and used as the authentication.")]),o("h3",{attrs:{id:"browsers-emulator-id-div-classspecsiheroidiv"}},[o("a",{attrs:{href:"#browsers-emulator-id-div-classspecsiheroidiv","aria-hidden":"true"}},[e._v("#")]),e._v("Browsers Emulator Id "),o("div",{staticClass:"specs"},[o("i",[e._v("Hero")])])]),o("p",[e._v("Configures which "),o("a",{attrs:{href:"/docs/plugins/browser-emulators"}},[e._v("BrowserEmulator")]),e._v(" to use in a given Hero.")]),o("h3",{attrs:{id:"human-emulator-id-div-classspecsiheroidiv"}},[o("a",{attrs:{href:"#human-emulator-id-div-classspecsiheroidiv","aria-hidden":"true"}},[e._v("#")]),e._v("Human Emulator Id "),o("div",{staticClass:"specs"},[o("i",[e._v("Hero")])])]),o("p",[e._v("Configures which "),o("a",{attrs:{href:"/docs/plugins/human-emulators"}},[e._v("HumanEmulator")]),e._v(" to use in a Hero instance.")]),o("h2",{attrs:{id:"core-configuration"}},[o("a",{attrs:{href:"#core-configuration","aria-hidden":"true"}},[e._v("#")]),e._v("Core Configuration")]),o("p",[e._v("Configuration for Core should be performed before initialization.")]),o("h3",{attrs:{id:"core-start"}},[o("a",{attrs:{href:"#core-start","aria-hidden":"true"}},[e._v("#")]),e._v("Core.start"),o("em",[e._v("(options)")])]),o("p",[e._v("Update existing settings.")]),o("h4",{attrs:{id:"arguments"}},[o("a",{attrs:{href:"#arguments","aria-hidden":"true"}},[e._v("#")]),o("strong",[e._v("Arguments")]),e._v(":")]),o("ul",[o("li",[e._v("options "),o("code",{pre:!0},[e._v("object")]),e._v(" Accepts any of the following:"),o("ul",[o("li",[e._v("maxConcurrentHerosCount "),o("code",{pre:!0},[e._v("number")]),e._v(" defaults to "),o("code",{pre:!0},[e._v("10")]),e._v(". Limit concurrent Hero sessions running at any given time.")]),o("li",[e._v("localProxyPortStart "),o("code",{pre:!0},[e._v("number")]),e._v(" defaults to "),o("code",{pre:!0},[e._v("any open port")]),e._v(". Starting internal port to use for the mitm proxy.")]),o("li",[e._v("sessionsDir "),o("code",{pre:!0},[e._v("string")]),e._v(" defaults to "),o("code",{pre:!0},[e._v("os.tmpdir()/.ulixee")]),e._v(". Directory to store session files and mitm certificates.")]),o("li",[e._v("coreServerPort "),o("code",{pre:!0},[e._v("number")]),e._v(". Port to run the Core Websocket/Replay server on.")])])])]),o("h4",{attrs:{id:"returns-promise"}},[o("a",{attrs:{href:"#returns-promise","aria-hidden":"true"}},[e._v("#")]),o("strong",[e._v("Returns")]),e._v(": "),o("code",{pre:!0},[e._v("Promise")])])])}),[],!1,null,null,null);"function"==typeof c&&c(u),"function"==typeof d&&d(u);t.default=u.exports}}]);